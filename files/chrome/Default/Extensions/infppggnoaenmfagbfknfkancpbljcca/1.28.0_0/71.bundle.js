"use strict";(self.webpackChunkautoma=self.webpackChunkautoma||[]).push([[71],{78071:(e,t,a)=>{a.r(t),a.d(t,{default:()=>b});var s=a(49963),l=a(2262),o=a(66252),n=a(3577),r=a(47421),i=a(17054),d=a(15615),u=a(53740),c=a(78120),y=a(31862),p=a(45383),f=a(23732),g=a(42468),m=a(64747);const h={key:0,class:"absolute bottom-0 left-0 z-10 flex h-6 w-full items-center px-2 text-xs text-gray-300"},v=(0,o._)("div",{class:"grow"},null,-1),b={__name:"SharedCodemirror",props:{lang:{type:String,default:"javascript"},modelValue:{type:String,default:""},readonly:{type:Boolean,default:!1},lineNumbers:{type:Boolean,default:!0},extensions:{type:[Object,Array],default:()=>[]},hideLang:Boolean},emits:["change","update:modelValue"],setup(e,{emit:t}){const a=e;(0,s.useCssVars)((e=>({"64b7a84c":(0,l.SU)(m.h).whiteSpace})));let b=null;const k={json:d.AV,javascript:g.eJ,html:u.dy,css:i.iv},x=(0,l.iH)(null),w=r.tk.updateListener.of((e=>{if(e.docChanged){e.state.sliceDoc(0,20);const a=e.state.doc.toString();t("change",a),t("update:modelValue",a)}})),S=Array.isArray(a.extensions)?a.extensions:[a.extensions],V=c.yy.create({doc:a.modelValue,extensions:[f.vk,y.Xy,w,k[a.lang]?.(),c.yy.tabSize.of(2),r.$f.of([p.oc]),c.yy.readOnly.of(a.readonly),...S]});return(0,o.YP)((()=>a.modelValue),(e=>{e!==b.state.doc.toString()&&b.dispatch({changes:{from:0,to:b.state.doc.length,insert:e}})})),(0,o.bv)((()=>{b=new r.tk({state:V,parent:x.value})})),(0,o.Jd)((()=>{b?.destroy()})),(t,a)=>((0,o.wg)(),(0,o.iD)("div",{ref_key:"containerEl",ref:x,class:(0,n.normalizeClass)([{"hide-gutters":!e.lineNumbers},"codemirror relative overflow-auto rounded-lg"])},[e.hideLang?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",h,[v,(0,o._)("span",null,(0,n.toDisplayString)(e.lang),1)]))],2))}}}}]);